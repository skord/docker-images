# MaxScale documentation on GitHub:
# https://github.com/mariadb-corporation/MaxScale/blob/master/Documentation/Documentation-Contents.md

# Global parameters
#
# Complete list of configuration options:
# https://github.com/mariadb-corporation/MaxScale/blob/master/Documentation/Getting-Started/Configuration-Guide.md

[maxscale]
threads={{key "maxscale/threads"}}

# Server definitions
#
# Set the address of the server to the network
# address of a MySQL server.
#

{{range $key, $pairs := tree "maxscale/servers" |byKey}}
[{{$key}}]{{range $pair := $pairs }}
{{.Key}}={{.Value}}{{end}}
{{end}}

# Monitor for the servers
#
# This will keep MaxScale aware of the state of the servers.
# MySQL Monitor documentation:
# https://github.com/mariadb-corporation/MaxScale/blob/master/Documentation/Monitors/MySQL-Monitor.md

{{range $key, $pairs := tree "maxscale/monitors" |byKey}}
[{{$key}}]{{range $pair := $pairs }}
{{.Key}}={{.Value}}{{end}}
{{end}}

# Service definitions
#
# Service Definition for a read-only service and
# a read/write splitting service.
#

{{range $key, $pairs := tree "maxscale/services" |byKey}}
[{{$key}}]{{range $pair := $pairs }}
{{.Key}}={{.Value}}{{end}}
{{end}}

# Listener definitions for the services
#
# These listeners represent the ports the
# services will listen on.
#


{{range $key, $pairs := tree "maxscale/listeners" |byKey}}
[{{$key}}]{{range $pair := $pairs }}
{{.Key}}={{.Value}}{{end}}
{{end}}
